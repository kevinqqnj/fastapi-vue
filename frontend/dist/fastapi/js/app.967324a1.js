(function(){"use strict";var t={8344:function(t,e,n){n(7658);var a=n(9242),o=n(4311),s=n(3396);const r={id:"app"},l={class:"main container"};function i(t,e,n,a,o,i){const u=(0,s.up)("NavBar"),c=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(u),(0,s._)("div",l,[(0,s.Wm)(c)])])}const u=t=>((0,s.dD)("data-v-046b84f8"),t=t(),(0,s.Cn)(),t),c={class:"navbar navbar-expand-md navbar-dark bg-dark"},d={class:"container"},m=u((()=>(0,s._)("a",{class:"navbar-brand",href:"/"},"FastAPI + Vue",-1))),p=u((()=>(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1))),f={class:"collapse navbar-collapse",id:"navbarCollapse"},h={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},_={class:"nav-item"},b={class:"nav-item"},w={class:"nav-item"},v={class:"nav-item"},g={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},y={class:"nav-item"},k={class:"nav-item"},U={class:"nav-item"};function N(t,e,n,a,o,r){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",null,[(0,s._)("nav",c,[(0,s._)("div",d,[m,p,(0,s._)("div",f,[t.isLoggedIn?((0,s.wg)(),(0,s.iD)("ul",h,[(0,s._)("li",_,[(0,s.Wm)(l,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1})]),(0,s._)("li",b,[(0,s.Wm)(l,{class:"nav-link",to:"/dashboard"},{default:(0,s.w5)((()=>[(0,s.Uk)("Dashboard")])),_:1})]),(0,s._)("li",w,[(0,s.Wm)(l,{class:"nav-link",to:"/profile"},{default:(0,s.w5)((()=>[(0,s.Uk)("My Profile")])),_:1})]),(0,s._)("li",v,[(0,s._)("a",{class:"nav-link",onClick:e[0]||(e[0]=(...e)=>t.logout&&t.logout(...e))},"Log Out")])])):((0,s.wg)(),(0,s.iD)("ul",g,[(0,s._)("li",y,[(0,s.Wm)(l,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1})]),(0,s._)("li",k,[(0,s.Wm)(l,{class:"nav-link",to:"/register"},{default:(0,s.w5)((()=>[(0,s.Uk)("Register")])),_:1})]),(0,s._)("li",U,[(0,s.Wm)(l,{class:"nav-link",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Log In")])),_:1})])]))])])])])}var Z=(0,s.aZ)({name:"NavBar",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{async logout(){await this.$store.dispatch("logOut"),this.$router.push("/login")}}}),D=n(89);const A=(0,D.Z)(Z,[["render",N],["__scopeId","data-v-046b84f8"]]);var V=A,O={components:{NavBar:V}};const $=(0,D.Z)(O,[["render",i]]);var C=$,x=n(2483);const P=(0,s._)("p",null,"This site is built with FastAPI and Vue. (VS Code)",-1),S={key:0,id:"logout"},I={id:"logout"},W={key:1},E=(0,s._)("span",null," or ",-1);function L(t,e,n,a,o,r){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",null,[P,t.isLoggedIn?((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("p",I,[(0,s.Uk)("Click "),(0,s.Wm)(l,{class:"link",to:"/dashboard"},{default:(0,s.w5)((()=>[(0,s.Uk)("here")])),_:1}),(0,s.Uk)(" to view all notes.")])])):((0,s.wg)(),(0,s.iD)("p",W,[(0,s._)("span",null,[(0,s.Wm)(l,{class:"link",to:"/register"},{default:(0,s.w5)((()=>[(0,s.Uk)("Register")])),_:1})]),E,(0,s._)("span",null,[(0,s.Wm)(l,{class:"link",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Log In")])),_:1})])]))])}var T=(0,s.aZ)({name:"HomeView",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}}});const z=(0,D.Z)(T,[["render",L]]);var M=z;const q={class:"mb-3"},F=(0,s._)("label",{for:"username",class:"form-label"},"Username:",-1),j={class:"mb-3"},B=(0,s._)("label",{for:"full_name",class:"form-label"},"Full Name:",-1),R={class:"mb-3"},H=(0,s._)("label",{for:"password",class:"form-label"},"Password:",-1),G=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function Y(t,e,n,o,r,l){return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("form",{onSubmit:e[3]||(e[3]=(0,a.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,s._)("div",q,[F,(0,s.wy)((0,s._)("input",{type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.user.username=e),class:"form-control"},null,512),[[a.nr,t.user.username]])]),(0,s._)("div",j,[B,(0,s.wy)((0,s._)("input",{type:"text",name:"full_name","onUpdate:modelValue":e[1]||(e[1]=e=>t.user.full_name=e),class:"form-control"},null,512),[[a.nr,t.user.full_name]])]),(0,s._)("div",R,[H,(0,s.wy)((0,s._)("input",{type:"password",name:"password","onUpdate:modelValue":e[2]||(e[2]=e=>t.user.password=e),class:"form-control"},null,512),[[a.nr,t.user.password]])]),G],32)])}var J=n(65),K=(0,s.aZ)({name:"RegisterView",data(){return{user:{username:"",full_name:"",password:""}}},methods:{...(0,J.nv)(["register"]),async submit(){try{await this.register(this.user),this.$router.push("/dashboard")}catch(t){throw"Username already exists. Please try again."}}}});const Q=(0,D.Z)(K,[["render",Y]]);var X=Q;const tt={class:"mb-3"},et=(0,s._)("label",{for:"username",class:"form-label"},"Username:",-1),nt={class:"mb-3"},at=(0,s._)("label",{for:"password",class:"form-label"},"Password:",-1),ot=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function st(t,e,n,o,r,l){return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,s._)("div",tt,[et,(0,s.wy)((0,s._)("input",{type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.username=e),class:"form-control"},null,512),[[a.nr,t.form.username]])]),(0,s._)("div",nt,[at,(0,s.wy)((0,s._)("input",{type:"password",name:"password","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.password=e),class:"form-control"},null,512),[[a.nr,t.form.password]])]),ot],32)])}var rt=(0,s.aZ)({name:"LoginView",data(){return{form:{username:"",password:""}}},methods:{...(0,J.nv)(["logIn"]),async submit(){const t=new FormData;t.append("username",this.form.username),t.append("password",this.form.password),await this.logIn(t),this.$router.push("/dashboard")}}});const lt=(0,D.Z)(rt,[["render",st]]);var it=lt,ut=n(7139);const ct=(0,s._)("h1",null,"Add new note",-1),dt=(0,s._)("hr",null,null,-1),mt=(0,s._)("br",null,null,-1),pt={class:"mb-3"},ft=(0,s._)("label",{for:"title",class:"form-label"},"Title:",-1),ht={class:"mb-3"},_t=(0,s._)("label",{for:"content",class:"form-label"},"Content:",-1),bt=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),wt=(0,s._)("br",null,null,-1),vt=(0,s._)("br",null,null,-1),gt=(0,s._)("h1",null,"Notes",-1),yt=(0,s._)("hr",null,null,-1),kt=(0,s._)("br",null,null,-1),Ut={key:0},Nt={class:"card",style:{width:"18rem"}},Zt={class:"card-body"},Dt=(0,s._)("strong",null,"Note Title:",-1),At=(0,s._)("strong",null,"Author:",-1),Vt=(0,s._)("strong",null,"Update in:",-1),Ot=(0,s._)("br",null,null,-1),$t={key:1},Ct=(0,s._)("p",null,"Nothing to see. Check back later.",-1),xt=[Ct];function Pt(t,e,n,o,r,l){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("section",null,[ct,dt,mt,(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,s._)("div",pt,[ft,(0,s.wy)((0,s._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.title=e),class:"form-control"},null,512),[[a.nr,t.form.title]])]),(0,s._)("div",ht,[_t,(0,s.wy)((0,s._)("textarea",{name:"content","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.content=e),class:"form-control"},null,512),[[a.nr,t.form.content]])]),bt],32)]),wt,vt,(0,s._)("section",null,[gt,yt,kt,t.notes.length?((0,s.wg)(),(0,s.iD)("div",Ut,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.notes,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"notes"},[(0,s._)("div",Nt,[(0,s._)("div",Zt,[(0,s._)("ul",null,[(0,s._)("li",null,[Dt,(0,s.Uk)(" "+(0,ut.zw)(t.title),1)]),(0,s._)("li",null,[At,(0,s.Uk)(" "+(0,ut.zw)(t.author.username),1)]),(0,s._)("li",null,[Vt,(0,s.Uk)(" "+(0,ut.zw)(t.modified_at),1)]),(0,s._)("li",null,[(0,s.Wm)(i,{to:{name:"Note",params:{id:t.id}}},{default:(0,s.w5)((()=>[(0,s.Uk)("View")])),_:2},1032,["to"])])])])]),Ot])))),128))])):((0,s.wg)(),(0,s.iD)("div",$t,xt))])])}var St=(0,s.aZ)({name:"DashboardView",data(){return{form:{title:"",content:""}}},created:function(){return this.$store.dispatch("getNotes")},computed:{...(0,J.Se)({notes:"stateNotes"})},methods:{...(0,J.nv)(["createNote"]),async submit(){await this.createNote(this.form)}}});const It=(0,D.Z)(St,[["render",Pt]]);var Wt=It;const Et=(0,s._)("h1",null,"Your Profile",-1),Lt=(0,s._)("hr",null,null,-1),Tt=(0,s._)("br",null,null,-1),zt=(0,s._)("strong",null,"Full Name:",-1),Mt=(0,s._)("strong",null,"Username:",-1);function qt(t,e,n,a,o,r){return(0,s.wg)(),(0,s.iD)("section",null,[Et,Lt,Tt,(0,s._)("div",null,[(0,s._)("p",null,[zt,(0,s.Uk)(),(0,s._)("span",null,(0,ut.zw)(t.user.full_name),1)]),(0,s._)("p",null,[Mt,(0,s.Uk)(),(0,s._)("span",null,(0,ut.zw)(t.user.username),1)]),(0,s._)("p",null,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.deleteAccount()),class:"btn btn-primary"},"Delete Account")])])])}var Ft=(0,s.aZ)({name:"ProfileView",created:function(){return this.$store.dispatch("viewMe")},computed:{...(0,J.Se)({user:"stateUser"})},methods:{...(0,J.nv)(["deleteUser"]),async deleteAccount(){try{await this.deleteUser(this.user.id),await this.$store.dispatch("logOut"),this.$router.push("/")}catch(t){console.error(t)}}}});const jt=(0,D.Z)(Ft,[["render",qt]]);var Bt=jt;const Rt={key:0},Ht=(0,s._)("strong",null,"Title:",-1),Gt=(0,s._)("strong",null,"Content:",-1),Yt=(0,s._)("strong",null,"Author:",-1),Jt=(0,s._)("strong",null,"Update in:",-1),Kt={key:0};function Qt(t,e,n,a,o,r){const l=(0,s.up)("router-link");return t.note?((0,s.wg)(),(0,s.iD)("div",Rt,[(0,s._)("p",null,[Ht,(0,s.Uk)(" "+(0,ut.zw)(t.note.title),1)]),(0,s._)("p",null,[Gt,(0,s.Uk)(" "+(0,ut.zw)(t.note.content),1)]),(0,s._)("p",null,[Yt,(0,s.Uk)(" "+(0,ut.zw)(t.note.author.username),1)]),(0,s._)("p",null,[Jt,(0,s.Uk)(" "+(0,ut.zw)(t.note.modified_at),1)]),t.user.id===t.note.author.id?((0,s.wg)(),(0,s.iD)("div",Kt,[(0,s._)("p",null,[(0,s.Wm)(l,{to:{name:"EditNote",params:{id:t.note.id}},class:"btn btn-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Edit")])),_:1},8,["to"])]),(0,s._)("p",null,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.removeNote()),class:"btn btn-secondary"},"Delete")])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var Xt=(0,s.aZ)({name:"NoteView",props:["id"],async created(){try{await this.viewNote(this.id)}catch(t){console.error(t),this.$router.push("/dashboard")}},computed:{...(0,J.Se)({note:"stateNote",user:"stateUser"})},methods:{...(0,J.nv)(["viewNote","deleteNote"]),async removeNote(){try{await this.deleteNote(this.id),this.$router.push("/dashboard")}catch(t){console.error(t)}}}});const te=(0,D.Z)(Xt,[["render",Qt]]);var ee=te;const ne=(0,s._)("h1",null,"Edit note",-1),ae=(0,s._)("hr",null,null,-1),oe=(0,s._)("br",null,null,-1),se={class:"mb-3"},re=(0,s._)("label",{for:"title",class:"form-label"},"Title:",-1),le={class:"mb-3"},ie=(0,s._)("label",{for:"content",class:"form-label"},"Content:",-1),ue=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function ce(t,e,n,o,r,l){return(0,s.wg)(),(0,s.iD)("section",null,[ne,ae,oe,(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,s._)("div",se,[re,(0,s.wy)((0,s._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.title=e),class:"form-control"},null,512),[[a.nr,t.form.title]])]),(0,s._)("div",le,[ie,(0,s.wy)((0,s._)("textarea",{name:"content","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.content=e),class:"form-control"},null,512),[[a.nr,t.form.content]])]),ue],32)])}var de=(0,s.aZ)({name:"EditNoteView",props:["id"],data(){return{form:{title:"",content:""}}},created:function(){this.GetNote()},computed:{...(0,J.Se)({note:"stateNote"})},methods:{...(0,J.nv)(["updateNote","viewNote"]),async submit(){try{let t={id:this.id,form:this.form};await this.updateNote(t),this.$router.push({name:"Note",params:{id:this.note.id}})}catch(t){console.log(t)}},async GetNote(){try{await this.viewNote(this.id),this.form.title=this.note.title,this.form.content=this.note.content}catch(t){console.error(t),this.$router.push("/dashboard")}}}});const me=(0,D.Z)(de,[["render",ce]]);var pe=me;const fe={notes:{},note:{author:{}}},he={stateNotes:t=>t.notes,stateNote:t=>t.note},_e={async createNote({dispatch:t},e){await o.Z.post("notes",e),await t("getNotes")},async getNotes({commit:t}){let{data:e}=await o.Z.get("notes");t("setNotes",e)},async viewNote({commit:t},e){let{data:n}=await o.Z.get(`note/${e}`);t("setNote",n)},async updateNote({},t){await o.Z.patch(`note/${t.id}`,t.form)},async deleteNote({},t){await o.Z["delete"](`note/${t}`)}},be={setNotes(t,e){t.notes=e},setNote(t,e){t.note=e}};var we={state:fe,getters:he,actions:_e,mutations:be};const ve={user:null},ge={isAuthenticated:t=>!!t.user,stateUser:t=>t.user},ye={async register({dispatch:t},e){await o.Z.post("register",e);let n=new FormData;n.append("username",e.username),n.append("password",e.password),await t("logIn",n)},async logIn({dispatch:t},e){await o.Z.post("login",e),await t("viewMe")},async viewMe({commit:t}){let{data:e}=await o.Z.get("users/me");await t("setUser",e)},async deleteUser({},t){await o.Z["delete"](`user/${t}`)},async logOut({commit:t}){await o.Z.get("logout"),await t("logout")}},ke={setUser(t,e){t.user=e},logout(t){t.user=null,document.cookie="Authorization=Bearer; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"}};var Ue={state:ve,getters:ge,actions:ye,mutations:ke},Ne=(0,J.MT)({modules:{notes:we,users:Ue}});const Ze=[{path:"/",name:"Home",component:M},{path:"/register",name:"Register",component:X},{path:"/login",name:"Login",component:it},{path:"/dashboard",name:"Dashboard",component:Wt,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:Bt,meta:{requiresAuth:!0}},{path:"/note/:id",name:"Note",component:ee,meta:{requiresAuth:!0},props:!0},{path:"/editnote/:id",name:"EditNote",component:pe,meta:{requiresAuth:!0},props:!0}],De=(0,x.p7)({history:(0,x.PO)("/fastapi/"),routes:Ze});De.beforeEach(((t,e,n)=>{if(t.matched.some((t=>t.meta.requiresAuth))){if(Ne.getters.isAuthenticated)return void n();n("/login")}else n()}));var Ae=De;const Ve=(0,a.ri)(C);o.Z.defaults.withCredentials=!0,o.Z.defaults.baseURL="/fastapi",console.log({NODE_ENV:"production",VUE_APP_BASE_API:"/fastapi",BASE_URL:"/fastapi/"}),o.Z.interceptors.response.use(void 0,(function(t){if(t){const e=t.config;if(401===t.response.status&&!e._retry)return e._retry=!0,Ne.dispatch("logOut"),Ae.push("/login")}})),Ve.use(Ae),Ve.use(Ne),Ve.mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,s){if(!a){var r=1/0;for(c=0;c<t.length;c++){a=t[c][0],o=t[c][1],s=t[c][2];for(var l=!0,i=0;i<a.length;i++)(!1&s||r>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(l=!1,s<r&&(r=s));if(l){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[a,o,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,r=a[0],l=a[1],i=a[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var c=i(n)}for(e&&e(a);u<r.length;u++)s=r[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(8344)}));a=n.O(a)})();
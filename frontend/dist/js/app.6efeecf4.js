(function(){"use strict";var t={466:function(t,e,n){n(7658);var o=n(9242),s=n(4311),a=n(3396);const r={id:"app"},l={class:"main container"};function i(t,e,n,o,s,i){const u=(0,a.up)("NavBar"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(u),(0,a._)("div",l,[(0,a.Wm)(c)])])}const u=t=>((0,a.dD)("data-v-046b84f8"),t=t(),(0,a.Cn)(),t),c={class:"navbar navbar-expand-md navbar-dark bg-dark"},d={class:"container"},m=u((()=>(0,a._)("a",{class:"navbar-brand",href:"/"},"FastAPI + Vue",-1))),p=u((()=>(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1))),f={class:"collapse navbar-collapse",id:"navbarCollapse"},h={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},_={class:"nav-item"},b={class:"nav-item"},g={class:"nav-item"},v={class:"nav-item"},w={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},y={class:"nav-item"},k={class:"nav-item"},N={class:"nav-item"};function U(t,e,n,o,s,r){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("header",null,[(0,a._)("nav",c,[(0,a._)("div",d,[m,p,(0,a._)("div",f,[t.isLoggedIn?((0,a.wg)(),(0,a.iD)("ul",h,[(0,a._)("li",_,[(0,a.Wm)(l,{class:"nav-link",to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1})]),(0,a._)("li",b,[(0,a.Wm)(l,{class:"nav-link",to:"/dashboard"},{default:(0,a.w5)((()=>[(0,a.Uk)("Dashboard")])),_:1})]),(0,a._)("li",g,[(0,a.Wm)(l,{class:"nav-link",to:"/profile"},{default:(0,a.w5)((()=>[(0,a.Uk)("My Profile")])),_:1})]),(0,a._)("li",v,[(0,a._)("a",{class:"nav-link",onClick:e[0]||(e[0]=(...e)=>t.logout&&t.logout(...e))},"Log Out")])])):((0,a.wg)(),(0,a.iD)("ul",w,[(0,a._)("li",y,[(0,a.Wm)(l,{class:"nav-link",to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1})]),(0,a._)("li",k,[(0,a.Wm)(l,{class:"nav-link",to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)("Register")])),_:1})]),(0,a._)("li",N,[(0,a.Wm)(l,{class:"nav-link",to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)("Log In")])),_:1})])]))])])])])}var Z=(0,a.aZ)({name:"NavBar",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{async logout(){await this.$store.dispatch("logOut"),this.$router.push("/login")}}}),D=n(89);const A=(0,D.Z)(Z,[["render",U],["__scopeId","data-v-046b84f8"]]);var O=A,S={components:{NavBar:O}};const V=(0,D.Z)(S,[["render",i]]);var I=V,$=n(2483);const C=(0,a._)("p",null,"This site is built with FastAPI and Vue. (VS Code)",-1),x={key:0,id:"logout"},E={id:"logout"},P={key:1},W=(0,a._)("span",null," or ",-1);function L(t,e,n,o,s,r){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("section",null,[C,t.isLoggedIn?((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("p",E,[(0,a.Uk)("Click "),(0,a.Wm)(l,{class:"link",to:"/dashboard"},{default:(0,a.w5)((()=>[(0,a.Uk)("here")])),_:1}),(0,a.Uk)(" to view all notes.")])])):((0,a.wg)(),(0,a.iD)("p",P,[(0,a._)("span",null,[(0,a.Wm)(l,{class:"link",to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)("Register")])),_:1})]),W,(0,a._)("span",null,[(0,a.Wm)(l,{class:"link",to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)("Log In")])),_:1})])]))])}var T=(0,a.aZ)({name:"HomeView",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},mounted(){console.log(this.$store.getters.isAuthenticated)}});const z=(0,D.Z)(T,[["render",L]]);var F=z;const M={class:"mb-3"},R=(0,a._)("label",{for:"username",class:"form-label"},"Username:",-1),q={class:"mb-3"},j=(0,a._)("label",{for:"full_name",class:"form-label"},"Full Name:",-1),B={class:"mb-3"},H=(0,a._)("label",{for:"password",class:"form-label"},"Password:",-1),J=(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function G(t,e,n,s,r,l){return(0,a.wg)(),(0,a.iD)("section",null,[(0,a._)("form",{onSubmit:e[3]||(e[3]=(0,o.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,a._)("div",M,[R,(0,a.wy)((0,a._)("input",{type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.user.username=e),class:"form-control"},null,512),[[o.nr,t.user.username]])]),(0,a._)("div",q,[j,(0,a.wy)((0,a._)("input",{type:"text",name:"full_name","onUpdate:modelValue":e[1]||(e[1]=e=>t.user.full_name=e),class:"form-control"},null,512),[[o.nr,t.user.full_name]])]),(0,a._)("div",B,[H,(0,a.wy)((0,a._)("input",{type:"password",name:"password","onUpdate:modelValue":e[2]||(e[2]=e=>t.user.password=e),class:"form-control"},null,512),[[o.nr,t.user.password]])]),J],32)])}var Y=n(65),K=(0,a.aZ)({name:"RegisterView",data(){return{user:{username:"",full_name:"",password:""}}},methods:{...(0,Y.nv)(["register"]),async submit(){try{await this.register(this.user),this.$router.push("/dashboard")}catch(t){throw"Username already exists. Please try again."}}}});const Q=(0,D.Z)(K,[["render",G]]);var X=Q;const tt={class:"mb-3"},et=(0,a._)("label",{for:"username",class:"form-label"},"Username:",-1),nt={class:"mb-3"},ot=(0,a._)("label",{for:"password",class:"form-label"},"Password:",-1),st=(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function at(t,e,n,s,r,l){return(0,a.wg)(),(0,a.iD)("section",null,[(0,a._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,a._)("div",tt,[et,(0,a.wy)((0,a._)("input",{type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.username=e),class:"form-control"},null,512),[[o.nr,t.form.username]])]),(0,a._)("div",nt,[ot,(0,a.wy)((0,a._)("input",{type:"password",name:"password","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.password=e),class:"form-control"},null,512),[[o.nr,t.form.password]])]),st],32)])}var rt=(0,a.aZ)({name:"LoginView",data(){return{form:{username:"",password:""}}},methods:{...(0,Y.nv)(["logIn"]),async submit(){const t=new FormData;t.append("username",this.form.username),t.append("password",this.form.password),await this.logIn(t)}}});const lt=(0,D.Z)(rt,[["render",at]]);var it=lt,ut=n(7139);const ct=(0,a._)("h1",null,"Add new note",-1),dt=(0,a._)("hr",null,null,-1),mt=(0,a._)("br",null,null,-1),pt={class:"mb-3"},ft=(0,a._)("label",{for:"title",class:"form-label"},"Title:",-1),ht={class:"mb-3"},_t=(0,a._)("label",{for:"content",class:"form-label"},"Content:",-1),bt=(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),gt=(0,a._)("br",null,null,-1),vt=(0,a._)("br",null,null,-1),wt=(0,a._)("h1",null,"Notes",-1),yt=(0,a._)("hr",null,null,-1),kt=(0,a._)("br",null,null,-1),Nt={key:0},Ut={class:"card",style:{width:"18rem"}},Zt={class:"card-body"},Dt=(0,a._)("strong",null,"Note Title:",-1),At=(0,a._)("strong",null,"Author:",-1),Ot=(0,a._)("strong",null,"Update in:",-1),St=(0,a._)("br",null,null,-1),Vt={key:1},It=(0,a._)("p",null,"Nothing to see. Check back later.",-1),$t=[It];function Ct(t,e,n,s,r,l){const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("section",null,[ct,dt,mt,(0,a._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,a._)("div",pt,[ft,(0,a.wy)((0,a._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.title=e),class:"form-control"},null,512),[[o.nr,t.form.title]])]),(0,a._)("div",ht,[_t,(0,a.wy)((0,a._)("textarea",{name:"content","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.content=e),class:"form-control"},null,512),[[o.nr,t.form.content]])]),bt],32)]),gt,vt,(0,a._)("section",null,[wt,yt,kt,t.notes.length?((0,a.wg)(),(0,a.iD)("div",Nt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.notes,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id,class:"notes"},[(0,a._)("div",Ut,[(0,a._)("div",Zt,[(0,a._)("ul",null,[(0,a._)("li",null,[Dt,(0,a.Uk)(" "+(0,ut.zw)(t.title),1)]),(0,a._)("li",null,[At,(0,a.Uk)(" "+(0,ut.zw)(t.author.username),1)]),(0,a._)("li",null,[Ot,(0,a.Uk)(" "+(0,ut.zw)(t.modified_at),1)]),(0,a._)("li",null,[(0,a.Wm)(i,{to:{name:"Note",params:{id:t.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)("View")])),_:2},1032,["to"])])])])]),St])))),128))])):((0,a.wg)(),(0,a.iD)("div",Vt,$t))])])}var xt=(0,a.aZ)({name:"DashboardView",data(){return{form:{title:"",content:""}}},created:function(){return this.$store.dispatch("getNotes")},computed:{...(0,Y.Se)({notes:"stateNotes"})},methods:{...(0,Y.nv)(["createNote"]),async submit(){await this.createNote(this.form)}}});const Et=(0,D.Z)(xt,[["render",Ct]]);var Pt=Et;const Wt=(0,a._)("h1",null,"Your Profile",-1),Lt=(0,a._)("hr",null,null,-1),Tt=(0,a._)("br",null,null,-1),zt=(0,a._)("strong",null,"Full Name:",-1),Ft=(0,a._)("strong",null,"Username:",-1);function Mt(t,e,n,o,s,r){return(0,a.wg)(),(0,a.iD)("section",null,[Wt,Lt,Tt,(0,a._)("div",null,[(0,a._)("p",null,[zt,(0,a.Uk)(),(0,a._)("span",null,(0,ut.zw)(t.user.full_name),1)]),(0,a._)("p",null,[Ft,(0,a.Uk)(),(0,a._)("span",null,(0,ut.zw)(t.user.username),1)]),(0,a._)("p",null,[(0,a._)("button",{onClick:e[0]||(e[0]=e=>t.deleteAccount()),class:"btn btn-primary"},"Delete Account")])])])}var Rt=(0,a.aZ)({name:"ProfileView",created:function(){return this.$store.dispatch("viewMe")},computed:{...(0,Y.Se)({user:"stateUser"})},methods:{...(0,Y.nv)(["deleteUser"]),async deleteAccount(){try{await this.deleteUser(this.user.id),await this.$store.dispatch("logOut"),this.$router.push("/")}catch(t){console.error(t)}}}});const qt=(0,D.Z)(Rt,[["render",Mt]]);var jt=qt;const Bt={key:0},Ht=(0,a._)("strong",null,"Title:",-1),Jt=(0,a._)("strong",null,"Content:",-1),Gt=(0,a._)("strong",null,"Author:",-1),Yt=(0,a._)("strong",null,"Update in:",-1),Kt={key:0};function Qt(t,e,n,o,s,r){const l=(0,a.up)("router-link");return t.note?((0,a.wg)(),(0,a.iD)("div",Bt,[(0,a._)("p",null,[Ht,(0,a.Uk)(" "+(0,ut.zw)(t.note.title),1)]),(0,a._)("p",null,[Jt,(0,a.Uk)(" "+(0,ut.zw)(t.note.content),1)]),(0,a._)("p",null,[Gt,(0,a.Uk)(" "+(0,ut.zw)(t.note.author.username),1)]),(0,a._)("p",null,[Yt,(0,a.Uk)(" "+(0,ut.zw)(t.note.modified_at),1)]),t.user.id===t.note.author.id?((0,a.wg)(),(0,a.iD)("div",Kt,[(0,a._)("p",null,[(0,a.Wm)(l,{to:{name:"EditNote",params:{id:t.note.id}},class:"btn btn-primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Edit")])),_:1},8,["to"])]),(0,a._)("p",null,[(0,a._)("button",{onClick:e[0]||(e[0]=e=>t.removeNote()),class:"btn btn-secondary"},"Delete")])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var Xt=(0,a.aZ)({name:"NoteView",props:["id"],async created(){try{await this.viewNote(this.id)}catch(t){console.error(t),this.$router.push("/dashboard")}},computed:{...(0,Y.Se)({note:"stateNote",user:"stateUser"})},methods:{...(0,Y.nv)(["viewNote","deleteNote"]),async removeNote(){try{await this.deleteNote(this.id),this.$router.push("/dashboard")}catch(t){console.error(t)}}}});const te=(0,D.Z)(Xt,[["render",Qt]]);var ee=te;const ne=(0,a._)("h1",null,"Edit note",-1),oe=(0,a._)("hr",null,null,-1),se=(0,a._)("br",null,null,-1),ae={class:"mb-3"},re=(0,a._)("label",{for:"title",class:"form-label"},"Title:",-1),le={class:"mb-3"},ie=(0,a._)("label",{for:"content",class:"form-label"},"Content:",-1),ue=(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function ce(t,e,n,s,r,l){return(0,a.wg)(),(0,a.iD)("section",null,[ne,oe,se,(0,a._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,a._)("div",ae,[re,(0,a.wy)((0,a._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.title=e),class:"form-control"},null,512),[[o.nr,t.form.title]])]),(0,a._)("div",le,[ie,(0,a.wy)((0,a._)("textarea",{name:"content","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.content=e),class:"form-control"},null,512),[[o.nr,t.form.content]])]),ue],32)])}var de=(0,a.aZ)({name:"EditNoteView",props:["id"],data(){return{form:{title:"",content:""}}},created:function(){this.GetNote()},computed:{...(0,Y.Se)({note:"stateNote"})},methods:{...(0,Y.nv)(["updateNote","viewNote"]),async submit(){try{let t={id:this.id,form:this.form};await this.updateNote(t),this.$router.push({name:"Note",params:{id:this.note.id}})}catch(t){console.log(t)}},async GetNote(){try{await this.viewNote(this.id),this.form.title=this.note.title,this.form.content=this.note.content}catch(t){console.error(t),this.$router.push("/dashboard")}}}});const me=(0,D.Z)(de,[["render",ce]]);var pe=me;const fe={notes:{},note:{author:{}}},he={stateNotes:t=>t.notes,stateNote:t=>t.note},_e={async createNote({dispatch:t},e){await s.Z.post("notes",e),await t("getNotes")},async getNotes({commit:t}){let{data:e}=await s.Z.get("notes");t("setNotes",e)},async viewNote({commit:t},e){let{data:n}=await s.Z.get(`note/${e}`);t("setNote",n)},async updateNote({},t){await s.Z.patch(`note/${t.id}`,t.form)},async deleteNote({},t){await s.Z["delete"](`note/${t}`)}},be={setNotes(t,e){t.notes=e},setNote(t,e){t.note=e}};var ge={state:fe,getters:he,actions:_e,mutations:be};const ve={user:JSON.parse(sessionStorage.getItem("USER_INFO"))||null},we={isAuthenticated:t=>!!t.user,stateUser:t=>t.user},ye={async register({dispatch:t},e){await s.Z.post("register",e);let n=new FormData;n.append("username",e.username),n.append("password",e.password),await t("logIn",n)},async logIn({dispatch:t},e){await s.Z.post("login",e).then((e=>{200===e.status&&t("viewMe",!0)})).catch((t=>{console.log(t)}))},async viewMe({commit:t},e){let{data:n}=await s.Z.get("users/me");await t("setUser",n),!0===e&&Ae.push("/dashboard")},async deleteUser({},t){await s.Z["delete"](`user/${t}`)},async logOut({commit:t}){ve.user&&await s.Z.get("logout"),t("logout")}},ke={setUser(t,e){t.user=e,sessionStorage.setItem("USER_INFO",JSON.stringify(e))},logout(t){t.user=null,document.cookie="Authorization=Bearer; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/",sessionStorage.setItem("USER_INFO",null),console.log("logout:",!!t.user,t.user)}};var Ne={state:ve,getters:we,actions:ye,mutations:ke},Ue=(0,Y.MT)({modules:{notes:ge,users:Ne}});const Ze=[{path:"/",name:"Home",component:F},{path:"/register",name:"Register",component:X},{path:"/login",name:"Login",component:it},{path:"/dashboard",name:"Dashboard",component:Pt,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:jt,meta:{requiresAuth:!0}},{path:"/note/:id",name:"Note",component:ee,meta:{requiresAuth:!0},props:!0},{path:"/editnote/:id",name:"EditNote",component:pe,meta:{requiresAuth:!0},props:!0}],De=(0,$.p7)({history:(0,$.PO)("/"),routes:Ze});De.beforeEach(((t,e,n)=>{if(t.matched.some((t=>t.meta.requiresAuth))){if(Ue.getters.isAuthenticated)return void n();n("/login")}else n()}));var Ae=De;const Oe=(0,o.ri)(I);s.Z.defaults.withCredentials=!0,s.Z.defaults.baseURL="/",console.log({NODE_ENV:"production",VUE_APP_BASE_API:"/",BASE_URL:"/"}),s.Z.interceptors.response.use(void 0,(function(t){if(t){const e=t.config;if(401===t.response.status&&!e._retry)return console.log(t.response),e._retry=!0,Ue.dispatch("logOut"),Ae.push("/login")}})),Oe.use(Ae),Oe.use(Ue),Oe.mount("#app")}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,s,a){if(!o){var r=1/0;for(c=0;c<t.length;c++){o=t[c][0],s=t[c][1],a=t[c][2];for(var l=!0,i=0;i<o.length;i++)(!1&a||r>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[i])}))?o.splice(i--,1):(l=!1,a<r&&(r=a));if(l){t.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[o,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,a,r=o[0],l=o[1],i=o[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(i)var c=i(n)}for(e&&e(o);u<r.length;u++)a=r[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(466)}));o=n.O(o)})();
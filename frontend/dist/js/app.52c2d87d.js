(function(){"use strict";var t={4859:function(t,e,n){n(7658);var a=n(9242),o=n(4311),s=n(3396);const r={id:"app"},l={class:"main container"};function i(t,e,n,a,o,i){const u=(0,s.up)("NavBar"),c=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(u),(0,s._)("div",l,[(0,s.Wm)(c)])])}const u=t=>((0,s.dD)("data-v-046b84f8"),t=t(),(0,s.Cn)(),t),c={class:"navbar navbar-expand-md navbar-dark bg-dark"},m={class:"container"},d=u((()=>(0,s._)("a",{class:"navbar-brand",href:"/"},"FastAPI + Vue",-1))),p=u((()=>(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1))),f={class:"collapse navbar-collapse",id:"navbarCollapse"},h={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},b={class:"nav-item"},v={class:"nav-item"},_={class:"nav-item"},w={class:"nav-item"},g={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},y={class:"nav-item"},k={class:"nav-item"},N={class:"nav-item"};function U(t,e,n,a,o,r){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",null,[(0,s._)("nav",c,[(0,s._)("div",m,[d,p,(0,s._)("div",f,[t.isLoggedIn?((0,s.wg)(),(0,s.iD)("ul",h,[(0,s._)("li",b,[(0,s.Wm)(l,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1})]),(0,s._)("li",v,[(0,s.Wm)(l,{class:"nav-link",to:"/dashboard"},{default:(0,s.w5)((()=>[(0,s.Uk)("Dashboard")])),_:1})]),(0,s._)("li",_,[(0,s.Wm)(l,{class:"nav-link",to:"/profile"},{default:(0,s.w5)((()=>[(0,s.Uk)("My Profile")])),_:1})]),(0,s._)("li",w,[(0,s._)("a",{class:"nav-link",onClick:e[0]||(e[0]=(...e)=>t.logout&&t.logout(...e))},"Log Out")])])):((0,s.wg)(),(0,s.iD)("ul",g,[(0,s._)("li",y,[(0,s.Wm)(l,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1})]),(0,s._)("li",k,[(0,s.Wm)(l,{class:"nav-link",to:"/register"},{default:(0,s.w5)((()=>[(0,s.Uk)("Register")])),_:1})]),(0,s._)("li",N,[(0,s.Wm)(l,{class:"nav-link",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Log In")])),_:1})])]))])])])])}var Z=(0,s.aZ)({name:"NavBar",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{async logout(){await this.$store.dispatch("logOut"),this.$router.push("/login")}}}),D=n(89);const V=(0,D.Z)(Z,[["render",U],["__scopeId","data-v-046b84f8"]]);var A=V,$={components:{NavBar:A}};const O=(0,D.Z)($,[["render",i]]);var C=O,x=n(2483);const I=(0,s._)("p",null,"This site is built with FastAPI and Vue. (VS Code)",-1),S={key:0,id:"logout"},W={id:"logout"},P={key:1},L=(0,s._)("span",null," or ",-1);function M(t,e,n,a,o,r){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",null,[I,t.isLoggedIn?((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("p",W,[(0,s.Uk)("Click "),(0,s.Wm)(l,{class:"link",to:"/dashboard"},{default:(0,s.w5)((()=>[(0,s.Uk)("here")])),_:1}),(0,s.Uk)(" to view all notes.")])])):((0,s.wg)(),(0,s.iD)("p",P,[(0,s._)("span",null,[(0,s.Wm)(l,{class:"link",to:"/register"},{default:(0,s.w5)((()=>[(0,s.Uk)("Register")])),_:1})]),L,(0,s._)("span",null,[(0,s.Wm)(l,{class:"link",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Log In")])),_:1})])]))])}var T=(0,s.aZ)({name:"HomeView",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}}});const z=(0,D.Z)(T,[["render",M]]);var q=z;const E={class:"mb-3"},F=(0,s._)("label",{for:"username",class:"form-label"},"Username:",-1),j={class:"mb-3"},H=(0,s._)("label",{for:"full_name",class:"form-label"},"Full Name:",-1),R={class:"mb-3"},B=(0,s._)("label",{for:"password",class:"form-label"},"Password:",-1),G=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function Y(t,e,n,o,r,l){return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("form",{onSubmit:e[3]||(e[3]=(0,a.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,s._)("div",E,[F,(0,s.wy)((0,s._)("input",{type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.user.username=e),class:"form-control"},null,512),[[a.nr,t.user.username]])]),(0,s._)("div",j,[H,(0,s.wy)((0,s._)("input",{type:"text",name:"full_name","onUpdate:modelValue":e[1]||(e[1]=e=>t.user.full_name=e),class:"form-control"},null,512),[[a.nr,t.user.full_name]])]),(0,s._)("div",R,[B,(0,s.wy)((0,s._)("input",{type:"password",name:"password","onUpdate:modelValue":e[2]||(e[2]=e=>t.user.password=e),class:"form-control"},null,512),[[a.nr,t.user.password]])]),G],32)])}var K=n(65),J=(0,s.aZ)({name:"RegisterView",data(){return{user:{username:"",full_name:"",password:""}}},methods:{...(0,K.nv)(["register"]),async submit(){try{await this.register(this.user),this.$router.push("/dashboard")}catch(t){throw"Username already exists. Please try again."}}}});const Q=(0,D.Z)(J,[["render",Y]]);var X=Q;const tt={class:"mb-3"},et=(0,s._)("label",{for:"username",class:"form-label"},"Username:",-1),nt={class:"mb-3"},at=(0,s._)("label",{for:"password",class:"form-label"},"Password:",-1),ot=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function st(t,e,n,o,r,l){return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,s._)("div",tt,[et,(0,s.wy)((0,s._)("input",{type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.username=e),class:"form-control"},null,512),[[a.nr,t.form.username]])]),(0,s._)("div",nt,[at,(0,s.wy)((0,s._)("input",{type:"password",name:"password","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.password=e),class:"form-control"},null,512),[[a.nr,t.form.password]])]),ot],32)])}var rt=(0,s.aZ)({name:"LoginView",data(){return{form:{username:"",password:""}}},methods:{...(0,K.nv)(["logIn"]),async submit(){const t=new FormData;t.append("username",this.form.username),t.append("password",this.form.password),await this.logIn(t),this.$router.push("/dashboard")}}});const lt=(0,D.Z)(rt,[["render",st]]);var it=lt,ut=n(7139);const ct=(0,s._)("h1",null,"Add new note",-1),mt=(0,s._)("hr",null,null,-1),dt=(0,s._)("br",null,null,-1),pt={class:"mb-3"},ft=(0,s._)("label",{for:"title",class:"form-label"},"Title:",-1),ht={class:"mb-3"},bt=(0,s._)("label",{for:"content",class:"form-label"},"Content:",-1),vt=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),_t=(0,s._)("br",null,null,-1),wt=(0,s._)("br",null,null,-1),gt=(0,s._)("h1",null,"Notes",-1),yt=(0,s._)("hr",null,null,-1),kt=(0,s._)("br",null,null,-1),Nt={key:0},Ut={class:"card",style:{width:"18rem"}},Zt={class:"card-body"},Dt=(0,s._)("strong",null,"Note Title:",-1),Vt=(0,s._)("strong",null,"Author:",-1),At=(0,s._)("br",null,null,-1),$t={key:1},Ot=(0,s._)("p",null,"Nothing to see. Check back later.",-1),Ct=[Ot];function xt(t,e,n,o,r,l){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("section",null,[ct,mt,dt,(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,s._)("div",pt,[ft,(0,s.wy)((0,s._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.title=e),class:"form-control"},null,512),[[a.nr,t.form.title]])]),(0,s._)("div",ht,[bt,(0,s.wy)((0,s._)("textarea",{name:"content","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.content=e),class:"form-control"},null,512),[[a.nr,t.form.content]])]),vt],32)]),_t,wt,(0,s._)("section",null,[gt,yt,kt,t.notes.length?((0,s.wg)(),(0,s.iD)("div",Nt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.notes,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"notes"},[(0,s._)("div",Ut,[(0,s._)("div",Zt,[(0,s._)("ul",null,[(0,s._)("li",null,[Dt,(0,s.Uk)(" "+(0,ut.zw)(t.title),1)]),(0,s._)("li",null,[Vt,(0,s.Uk)(" "+(0,ut.zw)(t.author.username),1)]),(0,s._)("li",null,[(0,s.Wm)(i,{to:{name:"Note",params:{id:t.id}}},{default:(0,s.w5)((()=>[(0,s.Uk)("View")])),_:2},1032,["to"])])])])]),At])))),128))])):((0,s.wg)(),(0,s.iD)("div",$t,Ct))])])}var It=(0,s.aZ)({name:"DashboardView",data(){return{form:{title:"",content:""}}},created:function(){return this.$store.dispatch("getNotes")},computed:{...(0,K.Se)({notes:"stateNotes"})},methods:{...(0,K.nv)(["createNote"]),async submit(){await this.createNote(this.form)}}});const St=(0,D.Z)(It,[["render",xt]]);var Wt=St;const Pt=(0,s._)("h1",null,"Your Profile",-1),Lt=(0,s._)("hr",null,null,-1),Mt=(0,s._)("br",null,null,-1),Tt=(0,s._)("strong",null,"Full Name:",-1),zt=(0,s._)("strong",null,"Username:",-1);function qt(t,e,n,a,o,r){return(0,s.wg)(),(0,s.iD)("section",null,[Pt,Lt,Mt,(0,s._)("div",null,[(0,s._)("p",null,[Tt,(0,s.Uk)(),(0,s._)("span",null,(0,ut.zw)(t.user.full_name),1)]),(0,s._)("p",null,[zt,(0,s.Uk)(),(0,s._)("span",null,(0,ut.zw)(t.user.username),1)]),(0,s._)("p",null,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.deleteAccount()),class:"btn btn-primary"},"Delete Account")])])])}var Et=(0,s.aZ)({name:"ProfileView",created:function(){return this.$store.dispatch("viewMe")},computed:{...(0,K.Se)({user:"stateUser"})},methods:{...(0,K.nv)(["deleteUser"]),async deleteAccount(){try{await this.deleteUser(this.user.id),await this.$store.dispatch("logOut"),this.$router.push("/")}catch(t){console.error(t)}}}});const Ft=(0,D.Z)(Et,[["render",qt]]);var jt=Ft;const Ht={key:0},Rt=(0,s._)("strong",null,"Title:",-1),Bt=(0,s._)("strong",null,"Content:",-1),Gt=(0,s._)("strong",null,"Author:",-1),Yt={key:0};function Kt(t,e,n,a,o,r){const l=(0,s.up)("router-link");return t.note?((0,s.wg)(),(0,s.iD)("div",Ht,[(0,s._)("p",null,[Rt,(0,s.Uk)(" "+(0,ut.zw)(t.note.title),1)]),(0,s._)("p",null,[Bt,(0,s.Uk)(" "+(0,ut.zw)(t.note.content),1)]),(0,s._)("p",null,[Gt,(0,s.Uk)(" "+(0,ut.zw)(t.note.author.username),1)]),t.user.id===t.note.author.id?((0,s.wg)(),(0,s.iD)("div",Yt,[(0,s._)("p",null,[(0,s.Wm)(l,{to:{name:"EditNote",params:{id:t.note.id}},class:"btn btn-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Edit")])),_:1},8,["to"])]),(0,s._)("p",null,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.removeNote()),class:"btn btn-secondary"},"Delete")])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var Jt=(0,s.aZ)({name:"NoteView",props:["id"],async created(){try{await this.viewNote(this.id)}catch(t){console.error(t),this.$router.push("/dashboard")}},computed:{...(0,K.Se)({note:"stateNote",user:"stateUser"})},methods:{...(0,K.nv)(["viewNote","deleteNote"]),async removeNote(){try{await this.deleteNote(this.id),this.$router.push("/dashboard")}catch(t){console.error(t)}}}});const Qt=(0,D.Z)(Jt,[["render",Kt]]);var Xt=Qt;const te=(0,s._)("h1",null,"Edit note",-1),ee=(0,s._)("hr",null,null,-1),ne=(0,s._)("br",null,null,-1),ae={class:"mb-3"},oe=(0,s._)("label",{for:"title",class:"form-label"},"Title:",-1),se={class:"mb-3"},re=(0,s._)("label",{for:"content",class:"form-label"},"Content:",-1),le=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function ie(t,e,n,o,r,l){return(0,s.wg)(),(0,s.iD)("section",null,[te,ee,ne,(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,s._)("div",ae,[oe,(0,s.wy)((0,s._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=e=>t.form.title=e),class:"form-control"},null,512),[[a.nr,t.form.title]])]),(0,s._)("div",se,[re,(0,s.wy)((0,s._)("textarea",{name:"content","onUpdate:modelValue":e[1]||(e[1]=e=>t.form.content=e),class:"form-control"},null,512),[[a.nr,t.form.content]])]),le],32)])}var ue=(0,s.aZ)({name:"EditNoteView",props:["id"],data(){return{form:{title:"",content:""}}},created:function(){this.GetNote()},computed:{...(0,K.Se)({note:"stateNote"})},methods:{...(0,K.nv)(["updateNote","viewNote"]),async submit(){try{let t={id:this.id,form:this.form};await this.updateNote(t),this.$router.push({name:"Note",params:{id:this.note.id}})}catch(t){console.log(t)}},async GetNote(){try{await this.viewNote(this.id),this.form.title=this.note.title,this.form.content=this.note.content}catch(t){console.error(t),this.$router.push("/dashboard")}}}});const ce=(0,D.Z)(ue,[["render",ie]]);var me=ce;const de={notes:{},note:{author:{}}},pe={stateNotes:t=>t.notes,stateNote:t=>t.note},fe={async createNote({dispatch:t},e){await o.Z.post("notes",e),await t("getNotes")},async getNotes({commit:t}){let{data:e}=await o.Z.get("notes");t("setNotes",e)},async viewNote({commit:t},e){let{data:n}=await o.Z.get(`note/${e}`);t("setNote",n)},async updateNote({},t){await o.Z.patch(`note/${t.id}`,t.form)},async deleteNote({},t){await o.Z["delete"](`note/${t}`)}},he={setNotes(t,e){t.notes=e},setNote(t,e){t.note=e}};var be={state:de,getters:pe,actions:fe,mutations:he};const ve={user:null},_e={isAuthenticated:t=>!!t.user,stateUser:t=>t.user},we={async register({dispatch:t},e){await o.Z.post("register",e);let n=new FormData;n.append("username",e.username),n.append("password",e.password),await t("logIn",n)},async logIn({dispatch:t},e){await o.Z.post("login",e),await t("viewMe")},async viewMe({commit:t}){let{data:e}=await o.Z.get("users/me");await t("setUser",e)},async deleteUser({},t){await o.Z["delete"](`user/${t}`)},async logOut({commit:t}){await o.Z.get("logout"),await t("logout")}},ge={setUser(t,e){t.user=e},logout(t){t.user=null,document.cookie="Authorization=Bearer"}};var ye={state:ve,getters:_e,actions:we,mutations:ge},ke=(0,K.MT)({modules:{notes:be,users:ye}});const Ne=[{path:"/",name:"Home",component:q},{path:"/register",name:"Register",component:X},{path:"/login",name:"Login",component:it},{path:"/dashboard",name:"Dashboard",component:Wt,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:jt,meta:{requiresAuth:!0}},{path:"/note/:id",name:"Note",component:Xt,meta:{requiresAuth:!0},props:!0},{path:"/editnote/:id",name:"EditNote",component:me,meta:{requiresAuth:!0},props:!0}],Ue=(0,x.p7)({history:(0,x.PO)("/"),routes:Ne});Ue.beforeEach(((t,e,n)=>{if(t.matched.some((t=>t.meta.requiresAuth))){if(ke.getters.isAuthenticated)return void n();n("/login")}else n()}));var Ze=Ue;const De=(0,a.ri)(C);o.Z.defaults.withCredentials=!0,o.Z.defaults.baseURL="http://localhost:8000/",o.Z.interceptors.response.use(void 0,(function(t){if(t){const e=t.config;if(401===t.response.status&&!e._retry)return e._retry=!0,ke.dispatch("logOut"),Ze.push("/login")}})),De.use(Ze),De.use(ke),De.mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,s){if(!a){var r=1/0;for(c=0;c<t.length;c++){a=t[c][0],o=t[c][1],s=t[c][2];for(var l=!0,i=0;i<a.length;i++)(!1&s||r>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(l=!1,s<r&&(r=s));if(l){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[a,o,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,r=a[0],l=a[1],i=a[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var c=i(n)}for(e&&e(a);u<r.length;u++)s=r[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(4859)}));a=n.O(a)})();
//# sourceMappingURL=app.52c2d87d.js.map